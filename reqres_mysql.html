<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

   
    <h3>모든 직원 정보</h3>
    <button id="allBtn" onclick="allEmp()">모든 직원 보기</button>
    <div id="emplist"></div>


    <script>
        //모두 보기
        function allEmp() {
            const xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {
                    all = this.responseText;
                    all = JSON.parse(all);

                    
                    let tableTag = `<table><th>사번</th><th>사원명</th><th>급여</th>`;
                        for(no in all){
                            tableTag = tableTag + "<tr><td>"+ all[no].empno + "</td><td>" 
                                + all[no].ename + "</td><td>" + all[no].sal + "</td></tr>";
                        }
                        tableTag = tableTag + `</table>`;
                            
                    document.getElementById("emplist").innerHTML = tableTag;
                }
            };
            xhttp.open("GET", "empall2");
            xhttp.send();
        }
      
    </script>
</body>

</html>

